<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://meyerv11045.github.com/notes/software_design/pointers/">
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Pointers - The Notebook</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">The Notebook</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Basics <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../general/swe-notes/" class="dropdown-item">Software Engineering Notebook</a>
</li>
                                    
<li>
    <a href="../../general/git/" class="dropdown-item">Git</a>
</li>
                                    
<li>
    <a href="../../general/python/" class="dropdown-item">Python</a>
</li>
                                    
<li>
    <a href="../../general/macos/" class="dropdown-item">MacOS</a>
</li>
                                    
<li>
    <a href="../../general/paradigms/" class="dropdown-item">Programming Paradigms</a>
</li>
                                    
<li>
    <a href="../../general/regex/" class="dropdown-item">Regex</a>
</li>
                                    
<li>
    <a href="../../general/hardware/" class="dropdown-item">Hardware</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Data Structures <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../data_structures/linked-list/" class="dropdown-item">Linked List</a>
</li>
                                    
<li>
    <a href="../../data_structures/stack/" class="dropdown-item">Stack</a>
</li>
                                    
<li>
    <a href="../../data_structures/queue/" class="dropdown-item">Queue</a>
</li>
                                    
<li>
    <a href="../../data_structures/tree/" class="dropdown-item">Tree</a>
</li>
                                    
<li>
    <a href="../../data_structures/graph/" class="dropdown-item">Graph</a>
</li>
                                    
<li>
    <a href="../../data_structures/hash-table/" class="dropdown-item">Hash Table</a>
</li>
                                    
<li>
    <a href="../../data_structures/heap/" class="dropdown-item">Heap</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Software Design <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="./" class="dropdown-item active">Pointers</a>
</li>
                                    
<li>
    <a href="../big3/" class="dropdown-item">The Big 3</a>
</li>
                                    
<li>
    <a href="../misc/" class="dropdown-item">Misc</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Databases <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../databases/dbms/" class="dropdown-item">DBMS</a>
</li>
                                    
<li>
    <a href="../../databases/sql/" class="dropdown-item">SQL</a>
</li>
                                    
<li>
    <a href="../../databases/mysql/" class="dropdown-item">MySQL</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">System Design <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../system_design/microservices/" class="dropdown-item">Microservices</a>
</li>
                                    
<li>
    <a href="../../system_design/docker/" class="dropdown-item">Docker</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Web Development <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Javascript</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../web_dev/js/basics/" class="dropdown-item">Basics</a>
</li>
            
<li>
    <a href="../../web_dev/js/classes/" class="dropdown-item">Classes</a>
</li>
            
<li>
    <a href="../../web_dev/js/objects/" class="dropdown-item">Objects</a>
</li>
            
<li>
    <a href="../../web_dev/js/modules/" class="dropdown-item">Modules</a>
</li>
            
<li>
    <a href="../../web_dev/js/promises/" class="dropdown-item">Promises</a>
</li>
            
<li>
    <a href="../../web_dev/js/jQuery/" class="dropdown-item">jQuery</a>
</li>
            
<li>
    <a href="../../web_dev/js/using_node_pkgs/" class="dropdown-item">Node Pkgs</a>
</li>
            
<li>
    <a href="../../web_dev/js/browser_compatibility/" class="dropdown-item">Browser Compatibility</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">HTML & CSS</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../web_dev/html-css/sass/" class="dropdown-item">Sass</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../../data_structures/heap/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../big3/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#pointers" class="nav-link">Pointers</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#why-use-them" class="nav-link">Why use them?</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#common-errors" class="nav-link">Common Errors</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#dereferencing" class="nav-link">Dereferencing</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#member-access-operator" class="nav-link">Member Access Operator</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#memory-regions" class="nav-link">Memory Regions</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#arrays" class="nav-link">Arrays</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#strings" class="nav-link">Strings</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#resources" class="nav-link">Resources</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="pointers">Pointers</h1>
<ul>
<li>A pointer is a variable that contains a memory address<ul>
<li>Has a data type that indicates the type of data being stored at the memory address</li>
<li>Declared using <code>*</code> operator like: <code>int* a;</code></li>
</ul>
</li>
<li><strong>Refrence Operator:</strong> <code>&amp;</code> obtains a variable's memory address</li>
<li><strong>Dereference Operator:</strong> <code>*</code> retrieves the data at the memory address a pointer stores</li>
<li>When declared, pointers hold an unknown address until initialized</li>
<li>To indicate pointing at nothing, use <code>nullptr</code></li>
</ul>
<h2 id="why-use-them">Why use them?</h2>
<p>Pointers are all 8-bytes (64-bits on 64-bit machines, 32-bits on 32-bit) so it is much more efficient to use memory addresses of large objects like images or videos than to actually move around the object and make copies of it when doing things like passing them to a function.</p>
<h2 id="common-errors">Common Errors</h2>
<h3 id="syntax">Syntax</h3>
<p><strong>Using the dereference operator when initializing a pointer</strong></p>
<pre><code class="language-c++">int* a;
int b = 20;
*a = &amp;b;    // error b/c using derefence operator
a = &amp;b      // correct
</code></pre>
<p>The 3rd line is an error b/c <code>*a</code> refers to data being stored at the unknown memory address <code>a</code> was initialized to. This will set the data at <code>a</code> to the memory address of <code>b</code> instead of making <code>a</code> point at <code>b</code>'s memory address.</p>
<p>Note this will note cause a compiler error, just a tricky to find bug.</p>
<p>However, this is valid and perform the desired functionality because <code>*</code> is not being used for dereferencing but rather declaring a pointer:</p>
<pre><code class="language-c++">int b = 20;
int *a = &amp;b;
</code></pre>
<p><strong>Forgetting the <code>*</code> before each pointer when declaring multiple on the same line</strong></p>
<pre><code class="language-c++">int* ptr1, ptr2; // ptr1 will be an int pointer but ptr2 will just be an int
int *ptr1, *ptr2; // makes both of them int pointers
</code></pre>
<p>Good practice to declare one pointer per line to avoid this.</p>
<h3 id="runtime">Runtime</h3>
<p><strong>Using a derefence operator <code>*</code> when the pointer has not been intialized.</strong> This causes undefined behavior meaning the program could crash if the pointer holds an address the program is not allowed to access.</p>
<p><strong>Dereferencing a null pointer.</strong> This causes the program to crash.</p>
<p>Memory overflow can be dangerous b/c it results in overwriting data anywhere in memory (can be OS, other programs, etc.)
Aliasing- changing the memory address a pointer points to</p>
<h2 id="dereferencing">Dereferencing</h2>
<p>Derefencing a pointer means accessing the value stored at the memory address the pointer contains</p>
<pre><code class="language-c++">char* p = &quot;abc&quot; // stores 'a', 'b', 'c' in 3 continuous chunks of memory and p points to the location of a

// Pointer arithmetic can be used to access b and c
assert(*p == 'a');  // The first character at address p will be 'a'
assert(p[1] == 'b'); // p[1] actually dereferences the pointer: p + 1 * (size of p in memory)
assert(*(p + 1) == 'b');  // Another notation for p[1]
</code></pre>
<p>Change data at the address pointed to by derferencing the pointer:</p>
<pre><code class="language-c++">*p = 'z' // now the string of chars is zbc
assert(*p = 'z')
</code></pre>
<p>Move pointers through the data:</p>
<pre><code class="language-c++">++p;  // Increment p so now it points to 'b'
assert(*p == 'b');
</code></pre>
<h2 id="member-access-operator">Member Access Operator</h2>
<pre><code class="language-c++">struct SomeStruct {int a;};

SomeStruct s;
SomeStruct* structPtr = s;
structPtr-&gt;a = 1;
// is cleaner than:
(*structPtr).a = 1;
</code></pre>
<h2 id="memory-regions">Memory Regions</h2>
<p>A program's memory usage includes 3 different regions:
1. <strong>Static Memory</strong>- where global &amp; static local variables are allocated
    - Static variables are allocated once and stay in the same memory location for the duration of the program's execution
2. <strong>Stack</strong>- each function call alloocates a new block of memory called a stack frame to holds its local variables. The stack frames are part of the stack
      - Managed by the run-time system 
3. <strong>Heap</strong>- where the <code>new</code> operator allocates memory and the <code>delete</code> operator deallocates memory
      - Managed by the programmer (aka the free store)</p>
<p>In classical architectures, the stack and heap grow toward each other to maximize the available space</p>
<h2 id="arrays">Arrays</h2>
<ul>
<li>Represented internally as a pointer to the first element</li>
<li>Accessing elements using indexing is actually just using pointer arithmetic</li>
<li>A variable declared as an array is the same as a variable declared as a pointer</li>
<li>When passing an array to a function, only the address of the array is copied into the parameter so any changes to the array in the function will cause a change to the original array b/c its shared</li>
</ul>
<h2 id="strings">Strings</h2>
<ul>
<li>represented internally as a character array ending with the null character <code>\0</code></li>
<li>since it is a character array, pointer arithmetic and everything can be done on strings</li>
</ul>
<h2 id="resources">Resources</h2>
<ul>
<li><a href="https://en.cppreference.com/w/c/language/operator_member_access">(Reference) Access Operators</a></li>
<li><a href="https://cs.stanford.edu/people/eroberts/courses/cs106b/handouts/21-MemoryAndC++.pdf">(Slides) Pointers</a></li>
<li><a href="https://www.geeksforgeeks.org/difference-between-p-p-and-p/">(Article) Weird Pointer Expressions</a></li>
</ul></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
