<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://meyerv11045.github.com/notes/general/python/">
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Python - The Notebook</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">The Notebook</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Basics <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../swe-notes/" class="dropdown-item">Software Engineering Notebook</a>
</li>
                                    
<li>
    <a href="../git/" class="dropdown-item">Git</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">Python</a>
</li>
                                    
<li>
    <a href="../macos/" class="dropdown-item">MacOS</a>
</li>
                                    
<li>
    <a href="../paradigms/" class="dropdown-item">Programming Paradigms</a>
</li>
                                    
<li>
    <a href="../regex/" class="dropdown-item">Regex</a>
</li>
                                    
<li>
    <a href="../hardware/" class="dropdown-item">Hardware</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Data Structures <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../data_structures/linked-list/" class="dropdown-item">Linked List</a>
</li>
                                    
<li>
    <a href="../../data_structures/stack/" class="dropdown-item">Stack</a>
</li>
                                    
<li>
    <a href="../../data_structures/queue/" class="dropdown-item">Queue</a>
</li>
                                    
<li>
    <a href="../../data_structures/tree/" class="dropdown-item">Tree</a>
</li>
                                    
<li>
    <a href="../../data_structures/graph/" class="dropdown-item">Graph</a>
</li>
                                    
<li>
    <a href="../../data_structures/hash-table/" class="dropdown-item">Hash Table</a>
</li>
                                    
<li>
    <a href="../../data_structures/heap/" class="dropdown-item">Heap</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Software Design <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../software_design/pointers/" class="dropdown-item">Pointers</a>
</li>
                                    
<li>
    <a href="../../software_design/big3/" class="dropdown-item">The Big 3</a>
</li>
                                    
<li>
    <a href="../../software_design/exceptions/" class="dropdown-item">Exception Handling</a>
</li>
                                    
<li>
    <a href="../../software_design/templates/" class="dropdown-item">Templates</a>
</li>
                                    
<li>
    <a href="../../software_design/operator-overloading/" class="dropdown-item">Operator Overloading</a>
</li>
                                    
<li>
    <a href="../../software_design/strong-exception-safety/" class="dropdown-item">Strong Exception Safety</a>
</li>
                                    
<li>
    <a href="../../software_design/misc/" class="dropdown-item">Misc</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Databases <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../databases/dbms/" class="dropdown-item">DBMS</a>
</li>
                                    
<li>
    <a href="../../databases/sql/" class="dropdown-item">SQL</a>
</li>
                                    
<li>
    <a href="../../databases/mysql/" class="dropdown-item">MySQL</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">System Design <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../system_design/microservices/" class="dropdown-item">Microservices</a>
</li>
                                    
<li>
    <a href="../../system_design/docker/" class="dropdown-item">Docker</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Web Development <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Javascript</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../web_dev/js/basics/" class="dropdown-item">Basics</a>
</li>
            
<li>
    <a href="../../web_dev/js/classes/" class="dropdown-item">Classes</a>
</li>
            
<li>
    <a href="../../web_dev/js/objects/" class="dropdown-item">Objects</a>
</li>
            
<li>
    <a href="../../web_dev/js/modules/" class="dropdown-item">Modules</a>
</li>
            
<li>
    <a href="../../web_dev/js/promises/" class="dropdown-item">Promises</a>
</li>
            
<li>
    <a href="../../web_dev/js/jQuery/" class="dropdown-item">jQuery</a>
</li>
            
<li>
    <a href="../../web_dev/js/using_node_pkgs/" class="dropdown-item">Node Pkgs</a>
</li>
            
<li>
    <a href="../../web_dev/js/browser_compatibility/" class="dropdown-item">Browser Compatibility</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">HTML & CSS</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../web_dev/html-css/sass/" class="dropdown-item">Sass</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../git/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../macos/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#python" class="nav-link">Python</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#ternary-conditionals" class="nav-link">Ternary Conditionals</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#number-formatting" class="nav-link">Number Formatting</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#context-managers" class="nav-link">Context Managers</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#enumerate-functions" class="nav-link">Enumerate Functions</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#zip-function" class="nav-link">Zip Function</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#unpacking" class="nav-link">Unpacking</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#requests-library" class="nav-link">Requests Library</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#environment-variables" class="nav-link">Environment Variables</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#memoizationcaching" class="nav-link">Memoization/Caching</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#config-parser" class="nav-link">Config Parser</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#csv-files" class="nav-link">CSV Files</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#python-executable" class="nav-link">Python Executable</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="python">Python</h1>
<hr />
<h2 id="ternary-conditionals">Ternary Conditionals</h2>
<pre><code class="language-python">condition = True
x = 1 if condition else 0
</code></pre>
<h2 id="number-formatting">Number Formatting</h2>
<pre><code class="language-python">num1 = 1_000_000_000
num2 = 10_000_000
total = num1 + num2
print(f'{total:,}') #Uses f-string to format output w/ commas
</code></pre>
<h2 id="context-managers">Context Managers</h2>
<p>Manage resources such as IO connections, threads, db connections, etc. by opening &amp; closing resources automatically</p>
<pre><code class="language-python">with open('test.txt','r') as f:
  file_contents = f.read()
</code></pre>
<h2 id="enumerate-functions">Enumerate Functions</h2>
<pre><code class="language-python">names = ['Bob','Steve','Jim']
for index,name in enumerate(names):
  print(index,name)

for index,name in enumerate(names, start=1): #Can specify starting index value
  print(index,name)
</code></pre>
<h2 id="zip-function">Zip Function</h2>
<p>Loops over <code>n</code> lists at once. When lists are different lengths, it stops at the end of the shortest list</p>
<pre><code class="language-python">for name, hero, universe in zip(names, heroes, universes):
  print(name,hero)

for value in zip(names, heroes, universes):
  print(value) #Value is a tuple of the results of the 3 lists
</code></pre>
<h2 id="unpacking">Unpacking</h2>
<pre><code class="language-python">a,b = (1,2)
print(a) #1
print(b) #2
c,_ = (4,5) #use underscore when you don't want to use a variable
print(c) #4

x,y,*z = (1,2,3,5,6,7)
print(x) #1
print(y) #2
print(z) #[3,5,6,7]

x,y,*_, z = (1,2,3,4,6,7,) #ignores all values after 1 &amp; 2 but until 7, which is stored in z
</code></pre>
<h2 id="requests-library">Requests Library</h2>
<pre><code class="language-python">import requests

url_params = {'page' : 2, 'count' : 25}
r = requests.get(&quot;https://httpbin.org/get&quot;, params=url_params)

body = {'username' : 'corey', 'password' : 'testing'}
r = requests.post(&quot;https://httpbin.org/post&quot;, data=body, timeout=3) 

#include the timeout argument to Raise a ReadTimeout Error if the website does not respond in time
r_dict = r.json() 
</code></pre>
<h2 id="environment-variables">Environment Variables</h2>
<p>MacOS terminal: 
- <code>export &lt;var-name&gt;=&lt;var-value&gt;</code> (add new env var)
- <code>export &lt;existing-var-name&gt;=&lt;var-value&gt;:$&lt;existing-var-name&gt;</code> (prepend values to an existing env var)
- <code>unset &lt;var-name&gt;</code> (remove env var)</p>
<p><code>os.environ</code> acts like a python dictionary </p>
<p>If you have other scripts updating the environment while your python script is running, calling os.environ again will not reflect the latest values since the mapping is only read when the python script is initially run.</p>
<pre><code class="language-python">import os

os.environ['DB_USER'] = str(123) # env vars must always be strings

db_user = os.environ['DB_USER'] 
db_user = os.environ.get('DB_USER') # safe way of accessing potentially undefined env vars
</code></pre>
<h2 id="memoizationcaching">Memoization/Caching</h2>
<p>Examples calculate the nth term of the fibonacci sequence
Basic implementation with dictionary</p>
<pre><code class="language-python">fibonacci_cache = {}

def fibonacci(n):
    if n in fibonacci_cache:
        return fibonacci_cache[n]
    elif n == 1 or n == 2:
        value = 1
    else:
        value = fibonacci(n-1) + fibonacci(n-2)

    fibonacci_cache[n] = value 
    return value 
</code></pre>
<p>Optimized implementation with function tools</p>
<pre><code class="language-python">from functools import lru_cache

@lru_cache(maxsize=1000)
def fibonacci(n):
    if n == 1 or n ==2:
        return 1
    else:
        return fibonacci(n-1)+fibonacci(n-2)
</code></pre>
<h2 id="config-parser">Config Parser</h2>
<p><a href="https://docs.python.org/3/library/configparser.html">Documentation</a>. Configuration file format:</p>
<pre><code class="language-ini">[section]
option1 = value1
option2 = value2
</code></pre>
<p>Reading the configuration file:</p>
<pre><code class="language-python">from configparser import ConfigParser

parser = ConfigParser()
parser.read('file.ini')

if parser.has_section('database'):
    items = parser.items('database')
</code></pre>
<p>Its good to store things that could change in the configuration file (e.g. endpoints, db logins/tables/sprocs)</p>
<h2 id="csv-files">CSV Files</h2>
<pre><code class="language-python">import csv

with open(file1, 'r'), open(file2, 'w') as f1, f2:
  csv_read = csv.reader(f1)
  csv_writer = csv.writer(f2)
  next(csv_read) # Skip header row

  for line in csv_reader:
      csv_writer.writerow([line[0],&quot;extra col&quot;])
</code></pre>
<h2 id="python-executable">Python Executable</h2>
<ul>
<li>MacOS installs python 2.7 by default and should not be deleted <ul>
<li><code>/usr/bin/python</code> and <code>/usr/bin/python2</code> are symlinks to default install: <code>System/Library/Frameworks/Python.framework/Versions/2.7/bin/python2.7</code></li>
</ul>
</li>
<li>Python 3+ versions are installed in <ul>
<li><code>/usr/local/bin/python3</code> is a symlink to version 3.5 installed in <code>/Library/Frameworks/Python.framework/Versions/3.5</code> by downloading python from internet</li>
<li><code>/usr/local/bin/python3.9</code> is a symlink to version 3.9 installed in <code>/usr/local/Cellar</code> by homebrew (same goes for <code>pip3.9</code>) </li>
<li><code>/usr/bin/python3</code> is the actual install of version 3.8. Note sure how it got there but it is currently looked at on the path after the other version of python3 in the local/bin so it is not found unless the version is being explicitly looked for</li>
<li>All 3 versions of python3 are needed for ROS stuff so thats fun</li>
</ul>
</li>
<li><code>python3 -m module_name</code> Searches the path for the module and excecutes its contents as the main module (Runs the specified module even if it isnt in the cwd)</li>
<li>Note: find symlinks using <code>ls -l</code></li>
</ul></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
